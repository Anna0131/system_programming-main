. comment
  . indexed addressing
.. free format coding
. empty line detection
. . comand line user filenames input

COPY START 100G	. program start here
FIRST STL RETADR
CLOOP JSUB RDREC
CLOOP LDA LENGTH
FIRST COMP ZERO
JEQ ENDFI
JSUB 	WRREC
J CLOOP
ENDFIL LDA EOF
STA BUFFER
LDA THREE
STA LENGTH
JSUB WRREC
LDLL RETADR
	RSUB FIRST
EOF BYTE F'EOF'
THREE RESW F
ZERO WORD 
RETADR RESW 
LENGTH WORD F
BUFFER RESB 409F
.
.
.
RDREC LDX ZERO    .. subroutine
LDA ZERO
RLOOP TD INPUT
JEQ RLOOP
RD INPUT
COMP ZERO
JEQ EXIT
STCH BUFFER ,X
TIX MAXLEN
JLT RLOOP
EXIT STX LENGTH
RSUB
INPUT BYTE X'G1'
MAXLEN RESB 4096
.
.
.

WRREC LDX ZERO		. . subroutine
WLOOP TD OUTPUT
JEQ WLOOP
LDCH BUFFER, X
WD OUTPUT
TIX LENGTH
JLT WLOOP
TEST RSUB
OUTPUT BYTE X'5'
END CLOO

.. . end of this program